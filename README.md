# Worddee AI

à¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸©à¸—à¸µà¹ˆà¸‚à¸±à¸šà¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸”à¹‰à¸§à¸¢ AI à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¹€à¸£à¸µà¸¢à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸à¸´à¹ˆà¸¡à¸„à¸³à¸¨à¸±à¸à¸—à¹Œ à¸ªà¸£à¹‰à¸²à¸‡à¸›à¸£à¸°à¹‚à¸¢à¸„ à¹à¸¥à¸°à¸à¸¶à¸à¸à¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸

## ğŸ¯ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

- ğŸ“š à¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸³à¸¨à¸±à¸à¸—à¹Œà¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢
- âœï¸ à¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¹‚à¸¢à¸„à¸”à¹‰à¸§à¸¢ AI
- ğŸ¤– à¸£à¸°à¸šà¸š Workflow Automation à¸”à¹‰à¸§à¸¢ n8n
- ğŸ—„ï¸ à¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸”à¹‰à¸§à¸¢ PostgreSQL
- ğŸ³ à¸£à¸­à¸‡à¸£à¸±à¸š Docker Compose à¸ªà¸³à¸«à¸£à¸±à¸š deployment à¸—à¸µà¹ˆà¸‡à¹ˆà¸²à¸¢

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢ 5 services à¸«à¸¥à¸±à¸:

- **Frontend** (Next.js 14 + TypeScript) - UI à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **Backend** (FastAPI) - Business logic à¹à¸¥à¸° API endpoints
- **Vocabulary API** (FastAPI) - API à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸„à¸³à¸¨à¸±à¸à¸—à¹Œ (repository à¹à¸¢à¸)
- **PostgreSQL** - à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸±à¸
- **n8n** - Workflow automation à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¹‚à¸¢à¸„

## ğŸ“‹ à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š

- Docker à¹à¸¥à¸° Docker Compose
- Git
- à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸§à¹ˆà¸²à¸‡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 2GB

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¸£à¸±à¸™

### 1. Clone Repositories

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ 2 repositories:

```bash
# Clone worddee-ai (main project)
git clone https://github.com/Thanat-Wut/worddee-ai.git
cd worddee-ai

# Clone worddee-api (vocabulary API) à¹„à¸›à¸¢à¸±à¸‡ parent directory
cd ..
git clone https://github.com/Thanat-Wut/worddee-api.git
```

à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡:
```
.
â”œâ”€â”€ worddee-ai/
â”‚   â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ n8n/
â”‚   â””â”€â”€ docker-compose.yml
â””â”€â”€ worddee-api/
    â”œâ”€â”€ app/
    â”œâ”€â”€ Dockerfile
    â””â”€â”€ requirements.txt
```

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables

```bash
cd worddee-ai
cp .env.example .env
```

à¹à¸à¹‰à¹„à¸‚à¹„à¸Ÿà¸¥à¹Œ `.env` à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£:

```env
# Database
POSTGRES_USER=worddee_admin
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=worddee_db
DATABASE_URL=postgresql://worddee_admin:your_secure_password@postgres:5432/worddee_db

# n8n
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_n8n_password
N8N_WEBHOOK_URL=http://n8n:5678/webhook/validate-sentence
GENERIC_TIMEZONE=Asia/Bangkok

# APIs
VOCAB_API_URL=http://worddee_api:8001
VOCAB_API_KEY=your_256bit_api_key
GEMINI_API_KEY=your_gemini_api_key

# CORS
CORS_ORIGINS=http://localhost:3000,http://frontend:3000

# Frontend
NEXT_PUBLIC_WORDDEE_API_URL=http://localhost:8000
NEXT_PUBLIC_VOCAB_API_URL=http://localhost:8001
```

### 3. à¸£à¸±à¸™ Application

```bash
docker-compose up -d
```

à¸£à¸­à¸ˆà¸™à¸—à¸¸à¸ service à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (à¸›à¸£à¸°à¸¡à¸²à¸“ 2-3 à¸™à¸²à¸—à¸µ)

### 4. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°

```bash
# à¸”à¸¹ logs
docker-compose logs -f

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸° services
docker-compose ps
```

## ğŸŒ à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ Services

| Service | URL | Description |
|---------|-----|-------------|
| **Frontend** | http://localhost:3000 | à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¸«à¸¥à¸±à¸ |
| **Backend API** | http://localhost:8000 | API à¸«à¸¥à¸±à¸ |
| **Backend Docs** | http://localhost:8000/docs | API Documentation |
| **Vocabulary API** | http://localhost:8001 | Vocabulary Management |
| **Vocab API Docs** | http://localhost:8001/docs | Vocab API Documentation |
| **n8n** | http://localhost:5678 | Workflow Automation UI |
| **PostgreSQL** | localhost:5432 | Database (à¹ƒà¸Šà¹‰ DBeaver/pgAdmin) |

## ğŸ”§ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### à¸£à¸±à¸™ Services à¹à¸šà¸šà¹à¸¢à¸

```bash
# à¸£à¸±à¸™à¹€à¸‰à¸à¸²à¸° database à¹à¸¥à¸° n8n
docker-compose up -d postgres n8n

# à¸£à¸±à¸™ backend à¹à¸šà¸š local
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000

# à¸£à¸±à¸™ frontend à¹à¸šà¸š local
cd frontend
npm install
npm run dev
```

### à¸”à¸¹ Logs

```bash
# à¸”à¸¹ logs à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
docker-compose logs -f

# à¸”à¸¹ logs à¹€à¸‰à¸à¸²à¸° service
docker-compose logs -f worddee_backend
docker-compose logs -f worddee_api
docker-compose logs -f frontend
```

### à¹€à¸‚à¹‰à¸² Container

```bash
# à¹€à¸‚à¹‰à¸² backend container
docker exec -it worddee_backend bash

# à¹€à¸‚à¹‰à¸² database
docker exec -it worddee_postgres psql -U worddee_admin -d worddee_db
```

## ğŸ—„ï¸ Database

### Initial Setup

Database à¸ˆà¸°à¸–à¸¹à¸ initialize à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œ `database/init.sql` à¹€à¸¡à¸·à¹ˆà¸­à¸£à¸±à¸™à¸„à¸£à¸±à¹‰à¸‡à¹à¸£à¸

### Migration

à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ reset database:

```bash
docker-compose down -v
docker-compose up -d
```

## ğŸ›‘ à¸à¸²à¸£à¸«à¸¢à¸¸à¸”à¹à¸¥à¸°à¸¥à¸š

```bash
# à¸«à¸¢à¸¸à¸” services
docker-compose down

# à¸«à¸¢à¸¸à¸”à¹à¸¥à¸°à¸¥à¸š volumes (à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ database)
docker-compose down -v

# à¸¥à¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸£à¸§à¸¡ images
docker-compose down -v --rmi all
```

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
worddee-ai/
â”œâ”€â”€ frontend/              # Next.js application
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/              # FastAPI application
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ database/            # Database initialization
â”‚   â””â”€â”€ init.sql
â”œâ”€â”€ n8n/                # n8n workflows
â”‚   â””â”€â”€ workflows/
â”œâ”€â”€ docker-compose.yml  # Docker orchestration
â”œâ”€â”€ .env.example       # Environment variables template
â””â”€â”€ README.md
```

## ğŸ” Health Checks

à¸—à¸¸à¸ service à¸¡à¸µ health check endpoints:

```bash
# Backend
curl http://localhost:8000/health

# Vocabulary API
curl http://localhost:8001/health

# Frontend
curl http://localhost:3000

# Database
docker exec worddee_postgres pg_isready -U worddee_admin
```

## ğŸ› Troubleshooting

### Service à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸™

```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š network
docker network inspect worddee-ai_worddee_network

# Restart services
docker-compose restart
```

### Port à¸–à¸¹à¸à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§

à¹à¸à¹‰à¹„à¸‚ ports à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `docker-compose.yml`

### Database connection error

- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `DATABASE_URL` à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `.env`
- à¸£à¸­à¹ƒà¸«à¹‰ PostgreSQL service à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (health check)
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š logs: `docker-compose logs postgres`

## ğŸ¤ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“ License

This project is licensed under the MIT License

## ğŸ‘¤ Author

**Thanat Wut**
- GitHub: [@Thanat-Wut](https://github.com/Thanat-Wut)

## ğŸ™ Acknowledgments

- Next.js Team
- FastAPI Team
- n8n Community
- PostgreSQL Team
